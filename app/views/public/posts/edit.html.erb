<div class="d-flex justify-content-center">
  <%= render 'public/searches/search_form' %>
</div>

<h1>コミュニティ</h1>
<div class="row">
  <div class="col-lg-3 mb-3">
    <%= render 'layouts/new_programs.html.erb' %>
  </div>
  <div class="col-lg-6">
    <p class="py-3 pl-1" style="background-color: rgba(165, 143, 134, 0.2);">
      <strong>投稿編集</strong>
    </p>
    <%= form_with model: @post do |f| %>
      <%= render 'layouts/error_messages', model: f.object %>
      <div class="form-group">
        <label for="title">タイトル</label>
        <%= f.text_field :title, class: "form-control title" %>
      </div>
      <div class="form-group">
        <label for="body">本文</label>
        <%= f.text_area :body, class: "form-control body" %>
      </div>
      <div class="form-group text-right">
        <%= f.submit '更新', class: "btn btn-secondary" %>
        <%= link_to '削除', post_path(@post), method: :delete, "data-confirm" => "本当に削除しますか？", class: "btn btn-dark" %>
      </div>
    <% end %>
  </div>
  <div class="col-lg-3 mb-3">
    <p class="py-3 pl-1" style="background-color: rgba(165, 143, 134, 0.2);">
      <strong>コメント一覧</strong>
      （<%= @total_comments_count %> 件）
    </p>
    <%= render 'public/comments/comments_index', comments: @comments, post: @post %>
  </div>
</div>
<div class="text-right">
  <%= link_to '投稿詳細へ戻る', post_path(@post), class: "btn btn-secondary" %>
</div>